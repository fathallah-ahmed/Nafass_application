# Nafass Application

## Overview
Nafass is an offline-first Flutter application that helps users manage their respiratory well-being. The app keeps data locally so that critical information such as medication reminders, daily journals, and breathing exercises remain accessible even without a network connection. State is coordinated through the `provider` package, and the experience is localized in both French and English.

## Product Goals
- Empower users to build healthier breathing habits through guided challenges and education.
- Provide a centralized, private place to track medication intake, daily symptoms, and lifestyle data.
- Deliver timely reminders and notifications that keep users engaged with their care plan.
- Operate reliably in low-connectivity environments by persisting all data on-device in JSON files.

# Key Features
### Authentication
- Local-first registration and login backed by a writable copy of `assets/data/user.json` in the `data_dev` directory.
- Secure session management exposed through `AuthProvider` and consumed across the feature modules.

### Home Dashboard
- Overview of the user profile, quick actions, and shortcuts to core program elements.
- Central entry point for reminders generated by the notification service.

### Calendar & Journal
- Daily journal view driven by `JournalProvider`, allowing users to record symptoms, mood, and activities.
- Scheduling hooks that integrate with the notification service for breathing sessions and medication alerts.

### Challenges
- A catalog of breathing and wellness challenges managed by `ChallengesProvider`.
- Progress tracking and reminder scheduling that adapts to the userâ€™s participation history.

### Consumption Tracking
- Modules for logging hydration, nutrition, or other lifestyle metrics tied to respiratory health.
- Visual summaries to highlight adherence trends.

### Medication Management
- Medication library and dosage schedules orchestrated by `MedicamentProvider` and `PrisesProvider`.
- Local notifications that remind the user of upcoming doses.

### Weather Awareness
- Weather integration to help users anticipate environmental triggers.
- Contextual insights surfaced alongside journal and challenge data.

### Profile & User Settings
- Profile editing flows backed by `ProfileProvider` and supporting assets in `lib/features/profile`.
- Preference management for localization, notifications, and personal data.

## Architecture
- **Flutter & Material 3**: Primary UI toolkit with light and dark themes defined in `NafassApp`.
- **State Management**: `provider` package with `ChangeNotifier` and `ChangeNotifierProxyProvider` to propagate auth state.
- **Notifications**: `NotificationService` initializes local notifications before app bootstrap.
- **Routing**: Centralized in `routes/app_router.dart` with named routes starting at `/login`.
- **Localization**: French as the default locale (`Intl.defaultLocale = 'fr'`) with English support.

## Data & Offline Strategy
- User records originate from `assets/data/user.json` and are copied on first launch to the project-level `data_dev` directory.
- Runtime read/write operations update only the mirrored JSON files under `data_dev`, leaving bundled assets untouched for source control.

## Development Environment
### Prerequisites
- Flutter SDK 3.16 or newer.
- Android Studio or VS Code with Flutter extensions.
- Android/iOS simulators or a physical device for testing.

### Setup
1. Install Flutter dependencies:
   ```bash
   flutter pub get
   ```
2. (Optional) Enable web or desktop targets depending on your platform.
3. Run the application:
   ```bash
   flutter run
   ```

### Local Data Reset
- Delete the `data_dev` directory to reset local authentication and user-specific data; the app will recreate it from bundled assets on next launch.

## Testing
- Execute Flutter unit/widget tests with:
  ```bash
  flutter test
  ```

## Contributing
1. Create a feature branch from `main`.
2. Ensure all Flutter analyzers and tests pass before opening a pull request.
3. Provide screenshots or screen recordings for UI changes when possible.

## License
This project is maintained internally; consult the project owners for licensing details before distributing or forking.